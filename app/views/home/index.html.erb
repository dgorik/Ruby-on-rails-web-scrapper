<header>
  <h1>Web Page Analyzer</h1>
  <% flash.each do |key, message| %>
    <div class="flash <%= key %>"><%= message %></div>
  <% end %>

  <form method="post" action="/content_pages">
    <input type="url" name="url" placeholder="Enter the URL..." required>
    <button type="submit">Analyze</button>
  </form>
</header>

<main>
  <section>
    <h2>Previously Analyzed Pages</h2>
    
    <% if @content_pages.any? %>
      <ul>
        <% @content_pages.each do |page| %>
          <li>
            <%= link_to page.title, 
                  history_page_path(page[:id]),
                  target: "_blank", 
                  rel: "noopener" %>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p>No pages analyzed yet. Enter a URL above to begin!</p>
    <% end %>
  </section>
</main>

<!-- 
  This template renders the homepage with the following features:

  How it works:
  - Displays a header with the application title.
  - Shows flash messages for errors.
  - Renders a form where users can input a URL to analyze.
  - Displays a list of previously analyzed pages, each linking to its detailed analysis.

  Controller:
  - This template is rendered by the HomeController in the index action.

  Why this matters:
  - Helps users easily input new data and view past results.
  - Provides clear structure and feedback via flash messages.

  In production, this template could be extended to:
  - Add pagination for long histories.
  - Include page metadata (like word count) inline with each result.
-->
