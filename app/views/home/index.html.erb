<header>
  <h1>Web Page Analyzer</h1>
  <% flash.each do |key, message| %>
    <div class="flash <%= key %>"><%= message %></div>
  <% end %>

  <form method="post" action="/content_pages">
    <input type="url" name="url" placeholder="Enter the URL..." required>
    <button type="submit">Analyze</button>
  </form>
</header>

<main>
  <section>
    <h2>Previously Analyzed Pages</h2>
    
    <% if @content_pages.any? %>
      <ul>
        <% @content_pages.each do |page| %>
          <li>
            <%= link_to page.title, 
                  history_page_path(page[:id]),
                  target: "_blank", 
                  rel: "noopener" %>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p>No pages analyzed yet. Enter a URL above to begin!</p>
    <% end %>
  </section>
</main>